<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="/public/main.css">
  <link rel="stylesheet" type="text/css" href="/public/searchresultspage/styles/searchresultsstyle.css">

  <title>Search Results - Black Alumni Directory</title>
</head>

<body>
  <header>
    <% include ../partials/header %>
  </header>

  <!-- Search results main body -->
  <div class="jumbotron jumbotron-fluid div-background">
    <div class="container jumbotron-text">
      <h1 class="display-4">Search Results</h1>
      <p class="lead">Page <%=page_num%> of <span id="total-page-num"></span></p>
    </div>
  </div>

  <div class="results-container">

    <!-- Page number, need to implement javascript to update when cycling through pages -->
    <div class="page-number-div">
      <!-- Lot of better decisions could be made for future revisions, the below line included
                 The first number (page number) is determined server-side while the total number of
                 pages is found on the client side. There needs to be more consistency in the purpose
                 and functionality of various components. BUT, it does work... -->

    </div>

    <!-- Contains each results from search query, populated via javascript in populateWebpage.js -->
    <div class="container container-div" id="resultsContainer">

      <!-- Pagination bar, allows user to switch between pages -->
      <div class="page-nav-div" id="pagination">
        <nav aria-label="Page navigation">
          <ul class="pagination" id="pagination-list">
            <li class="page-item" id="previous">
              <a class="page-link" href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </a>
            </li>
            <!-- pagination.js inserts page numbers here corresponding to how many results there are -->
            <li class="page-item" id="next">
              <a class="page-link" href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>

  <footer>
    <% include ../partials/footer %>
  </footer>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <script>
    // Get and store values from searchresults.js

    // Page number
    var p_num = parseInt(<%-JSON.stringify(page_num)%>);

    // Array of results from database query
    var pcbg = <%-JSON.stringify(pcbg)%>;

    // Url for current pagevar
    var s_url = <%-JSON.stringify(search_url)%>;

    //check for login
    var is_authenticated = false;
        <% if (user) { %>is_authenticated = true; <%}%>
  </script>
  <script type="text/javascript" src="/public/searchresultspage/scripts/populateWebpage.js"></script>
  <script type="text/javascript" src="/public/searchresultspage/scripts/pagination.js"></script>

</body>
